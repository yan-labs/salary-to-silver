# 几斤几两｜俸禄换算 - 设计与开发文档

## 项目概述

一个纯前端网站，让用户输入现代月收入，换算成白银重量，并对照古代官僚俸禄等级，告诉用户"在古代值几斤几两、是什么官"。

---

## 功能需求

### 核心功能
1. **实时白银价格获取** - 通过 API 获取最新白银价格（人民币/克）
2. **收入换算** - 用户输入月薪，换算成白银重量（两/斤）
3. **官职匹配** - 根据换算结果匹配古代官僚等级
4. **结果展示** - 展示用户的"古代身份"，配以趣味文案

### 附加功能
- 显示换算明细（当前银价、换算公式）
- 古代俸禄体系简介
- 响应式设计，支持移动端

---

## 技术方案

### 技术栈
- **纯 HTML + CSS + JavaScript**（无框架依赖）
- **白银价格 API**：待定（见下方 API 调研）

### 单位换算基准
```
古代单位换算：
1 斤 = 16 两（古代十六两制）
1 两 ≈ 37.3 克（明清标准）
1 斤 ≈ 596.8 克

现代单位：
白银价格通常以 元/克 或 元/盎司 报价
```

---

## 数据设计：古代官僚俸禄对照表

以**明朝俸禄制度**为基准（银两折算较清晰）：

| 品级 | 官职示例 | 年俸（石） | 月俸折银（两） | 现代月薪参考 |
|------|----------|-----------|---------------|-------------|
| 正一品 | 太师、太傅 | 1044 石 | ~87 两 | 待计算 |
| 从一品 | 少师、少傅 | 888 石 | ~74 两 | 待计算 |
| 正二品 | 六部尚书 | 732 石 | ~61 两 | 待计算 |
| 从二品 | 布政使 | 576 石 | ~48 两 | 待计算 |
| 正三品 | 按察使 | 420 石 | ~35 两 | 待计算 |
| 从三品 | 知府 | 312 石 | ~26 两 | 待计算 |
| 正四品 | 知州 | 288 石 | ~24 两 | 待计算 |
| 从四品 | 同知 | 252 石 | ~21 两 | 待计算 |
| 正五品 | 知县 | 192 石 | ~16 两 | 待计算 |
| 从五品 | 州同 | 168 石 | ~14 两 | 待计算 |
| 正六品 | 通判 | 120 石 | ~10 两 | 待计算 |
| 从六品 | 县丞 | 96 石 | ~8 两 | 待计算 |
| 正七品 | 县令 | 90 石 | ~7.5 两 | 待计算 |
| 从七品 | 主簿 | 84 石 | ~7 两 | 待计算 |
| 正八品 | 县丞佐官 | 78 石 | ~6.5 两 | 待计算 |
| 从八品 | 训导 | 72 石 | ~6 两 | 待计算 |
| 正九品 | 典史 | 66 石 | ~5.5 两 | 待计算 |
| 从九品 | 驿丞 | 60 石 | ~5 两 | 待计算 |
| 未入流 | 小吏、书办 | - | ~2-3 两 | 待计算 |
| 平民 | 农夫、工匠 | - | ~1-2 两 | 待计算 |

**注**：明朝 1 石米 ≈ 折银 1 两（实际浮动较大）

### 趣味等级（低于九品）
- **富农** - 月入 3-5 两
- **自耕农** - 月入 1-3 两
- **佃户** - 月入 0.5-1 两
- **乞丐** - 月入 < 0.5 两

---

## UI/UX 设计

### 视觉风格
- **主题**：古风 + 现代简约结合
- **配色**：
  - 主色：朱红 `#C41E3A`、金色 `#D4AF37`
  - 辅色：宣纸米白 `#F5F5DC`、墨黑 `#1A1A1A`
- **字体**：思源宋体（标题）+ 系统默认（正文）
- **装饰**：简约古风边框、印章元素

### 页面结构
```
┌─────────────────────────────────────┐
│           几斤几两｜俸禄换算          │  ← 标题
├─────────────────────────────────────┤
│  当前银价：¥X.XX/克  (实时更新)       │  ← 银价显示
├─────────────────────────────────────┤
│                                     │
│   ┌─────────────────────────┐       │
│   │  请输入月薪（元）：____  │       │  ← 输入区
│   │      [ 开始换算 ]        │       │
│   └─────────────────────────┘       │
│                                     │
├─────────────────────────────────────┤
│                                     │
│   您的月薪换算为白银：               │
│   ██ 两 ██ 钱 ██ 分                 │  ← 结果展示
│                                     │
│   ┌─────────────────────────┐       │
│   │  恭喜！您在明朝相当于    │       │
│   │      【正五品·知县】     │       │  ← 官职匹配
│   │   "父母官，一方之主"     │       │
│   └─────────────────────────┘       │
│                                     │
├─────────────────────────────────────┤
│         古代俸禄等级一览表            │  ← 参考表格
└─────────────────────────────────────┘
```

### 交互设计
1. 输入框支持回车提交
2. 结果区有渐入动画
3. 官职匹配有"揭晓"效果
4. 银价加载时显示 loading 状态

---

## API 调研

### 候选方案

#### 1. 金属价格 API（推荐）
- **metals-api.com** - 需注册，免费额度有限
- **goldapi.io** - 支持白银，有免费 tier

#### 2. 财经数据 API
- **新浪财经** - 可能有贵金属数据
- **东方财富** - 需要爬取

#### 3. 备选方案
- 使用固定银价 + 手动更新
- 显示"参考银价"而非"实时银价"

### API 选择建议
优先尝试免费 API，若不可用则：
1. 提供手动输入银价选项
2. 使用近期平均银价作为默认值（约 6-7 元/克）

---

## 开发计划

### 阶段一：基础框架
- [ ] 创建 HTML 结构
- [ ] 编写基础 CSS 样式
- [ ] 实现响应式布局

### 阶段二：核心逻辑
- [ ] 实现银价 API 调用
- [ ] 编写收入换算逻辑
- [ ] 实现官职匹配算法

### 阶段三：数据与展示
- [ ] 完善古代俸禄数据
- [ ] 设计结果展示卡片
- [ ] 添加俸禄对照表

### 阶段四：优化
- [ ] 添加动画效果
- [ ] 优化移动端体验
- [ ] 错误处理与边界情况

---

## 待确认事项

1. **银价 API** - 是否有偏好的数据源？
2. **历史朝代** - 目前以明朝为主，是否需要支持多朝代切换？
3. **单位显示** - 除了"两"，是否显示"克"作为参考？
4. **分享功能** - 是否需要生成分享图片？

---

## 文件结构（预期）

```
几斤几两/
├── index.html      # 主页面
├── style.css       # 样式文件
├── script.js       # 逻辑脚本
├── data.js         # 俸禄数据
└── DESIGN.md       # 本文档
```
